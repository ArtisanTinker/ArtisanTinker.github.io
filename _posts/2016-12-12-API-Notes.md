---
layout: post
title: "API Notes"
date: 2016-12-12
---


Back to Blade Control Structures


#API Development

## REST Representational State Transfer

### What is a REST-ful API

* Structured around resources
* Primarily use HTTP verbs
* Stateless
* Consistent
* Return JSON



### In Laravel
 
*Use resource controllers
*index - lists all
*show - show single
*store - save one
*edit - show the edit view
*update - updates
*destroy - removes



### Returning JSON
If you return a collection from a route, it will be JSON

- return Cat::all()



## Headers


* Send non content information using headers

### Sending response headers in Laravel
```
return response (Cat::all())->header('X-thinkymeebob',9);
```

### Reading request headerss in Laravek
  
```
$request->header('thinkymeebob');
```


## Pagination

Just use paginate() instead of all()

```
return Cat::paginate(20);
return DB::table('cats')->paginate(20);

```

How to Get

GET /cats?page=x


**Also returns next page information**


## Sorting and Filtering

**No sorting in Laravel** (Isn't that what a DB is for? )

Just do an order by.


## Filtering

pg 293 Laravel Up and Running


## Transforming Results

** Use Fractal **


## Nesting and Relationships

Read *Build APIs You Won't Hate

*Embed resources in the primary resource

*Embed just the foreign keys

*?

*Subresourse

*Optional embedding


##API 








## JSON API Spec

A document must contain ate least one of :

* data
* errors
* meta




